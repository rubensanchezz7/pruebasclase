<!DOCTYPE html>
<html>
	<meta charset="utf-8" />
	<head>
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />

 		<style>
  			#map { 
  			widh: 50px;
  			height: 600px; }
 		</style>
 
	</head>
	<body>
   		<div id="map"></div>
 		
		<script>
			var map = L.map('map').
			setView([41.66, -4.72], 14);
 
			L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);
			
			function buscarLocalizacion(e) {
   				L.marker(e.latlng).addTo(map);
			}

			function errorLocalizacion(e) {
   				alert("No es posible encontrar su ubicación. Es posible que tenga que activar la geolocalización.");
			}

			map.on('locationerror', errorLocalizacion);
			map.on('locationfound', buscarLocalizacion);
			 	
			map.locate({setView: true, maxZoom:12});
			
			function buscarLocalizacion(e) {
     				L.marker(e.latlng).addTo(map);
			}
			
			L.control.scale().addTo(map);
			L.marker([41.66, -4.71], {draggable: true}).addTo(map);

 		</script>
	</body> 
</html>
